---
layout: post
title: Making a Toggle All Checkbox
date: '2008-09-16T12:00:00-04:00'
tags:
- javascript
tumblr_url: https://seanmonstar.com/post/707004893/making-a-toggle-all-checkbox
---
<p><figure class="tmblr-full" data-orig-height="150" data-orig-width="400"><img src="https://64.media.tumblr.com/295b17d2f19e9f3babd4aed4c7be1ec0/e39ec8c2b5f78e01-a7/s540x810/a721a58645137e8467c2a4f155b3c14dfe40a259.jpg" data-orig-height="150" data-orig-width="400"/></figure></p>
<p>You’ve seen them on other sites.  When you have a long list of checkboxes, and you know you need to check them all.  Thankfully, the developer gave you a “Toggle All” and “Check All” box at the top, so you don’t have to check each individual box.  They don’t make or break an application, but they <em>subconsciously make a better user experience</em>.  It’s really easy to get this working, and I can show you how to do it in Mootools, Prototype, and even without any framework, since if this is the only thing you need in Javascript, you need the overhead of a framework to do this.</p>
<p>I recently had to make a permissions page for a CMS, allowing users to set the permissions of new users for various features.  Adding a way to toggle all options would be nice, because there’s a lot of options!  Here it is with <em>Mootools goodness</em>, thought for the CMS I wrote it with Prototype:</p>
<h4>Mootools</h4>
<pre>$('toggler').addEvent('click',function (e) {
	var toggle = $('toggler').checked;
	$$('#formId input[type=checkbox]').each(function(check) {
		check.checked = toggle;
	});
});</pre>
<p>I’ve added an event listener to the checkbox with id “toggler”, listening for a <code>click</code>.  When clicked, I store its <code>checked</code> state (true if checked, false if unchecked), and then set every other checkbox to the same state.  This way of doing it, as opposed to just using <code>check.checked = !check.checked</code> (using NOT to pick the opposite state), prevents double toggling the Toggler checkbox.  Here it is originally in <em>Prototype:</em></p>
<h4>Prototype</h4>
<pre>$('toggler').observe('click',function (e) {
var toggle = $('toggler').checked;
	$$('#formId input[type=checkbox]').each(function(check) {
		check.checked = toggle;
	});
});</pre>
<p>The only difference between Mootools and Prototype is the <code>attachEventListener</code> implementation: <em>Mootools uses <code>addEvent</code>, Prototype uses <code>observe</code></em>.</p>
<p>And like I said in the beginning, if this is your only need of Javascript (unlikely), I recommend not bogging down the page with a framework, and <em>use native Javascript</em>.  It’s really not hard.  Here it is:</p>
<h4>Native</h4>
<pre>var toggleFunction = function() {
	var toggle = document.getElementById('toggler').checked;
	var inputs = document.getElementsByTagName('input');
	for(var i = 0; i &lt; inputs.length &lt; i++) {
		if(inputs[i].type == 'checkbox') {
			inputs[i].checked = toggle;
		}
	}
} 
//If Good Browser
if(window.addEventListener) {
	document.getElementById('toggler').addEventListener('click',toggleFunction(),false);
// If IE
} else if (window.attachEvent) {
	document.getElementById('toggler').attachEvent('onclick',toggleFunction());
}</pre>
<p>If you’re used to only using frameworks, this looks like more work.  And it is, slightly.  But if you’ve done any kind of programming, you realize <em>it’s just a simple <code>for</code> loop</em>, used normally.</p>
<p>Of course, this does show-off some of <strong>the things frameworks do for you</strong>.  The framework will check the type of input for me, instead of me having to write an <code>if</code> statement.  It also gives you a cross-browser <code>addEvent</code> function, instead of having to check for <em>browser inconsistancies</em>.</p>
