---
layout: post
title: Making Objects in an Array Unique
date: '2009-02-06T06:01:00-08:00'
tags:
- php
tumblr_url: http://seanmonstar.com/post/707138900/making-objects-in-an-array-unique
---
<p>I was doing some sorting of Models in PHP. Unfortunately, I didn&rsquo;t have the luxury of letting the SQL do it all for me. Usually it does. But besides sorting, I had to make sure I didn&rsquo;t have any duplicate entries, since I was merging arrays with different queries. My first hope was PHP&rsquo;s array_unique method.</p>
<p>array_unique($array) will return an array with all duplicate values removed. What&rsquo;s deemed duplicate is when the <em>string values are the same</em> . This doesn&rsquo;t work for objects. I had used usort previously, soI looked for something similar like a uunique or something. No such luck.</p>
<p>I did find array_filter, which lets me specify a function the will determine what values get kept in the array and what gets ditched.So I created a simple dummy function, inside make a static array, grab the id from each model value in the array. Iadd the id to the static array, and then check the next value to see if theid has already been stored.</p>
<pre>function unique_obj($obj) {
	static $idList = array();
	if(in_array($obj-&gt;id,$idList)) {
		return false;
	}
	$idList []= $obj-&gt;id;
	return true;
}
$posts = array_filter($posts,'unique_obj');</pre>
