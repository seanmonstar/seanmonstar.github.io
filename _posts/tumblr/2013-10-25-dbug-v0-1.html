---
layout: post
title: dbug v0.1
date: '2013-10-25T16:05:18-07:00'
tags:
- javascript
- programming
- logging
- debug
- dbug
- planet
tumblr_url: http://seanmonstar.com/post/65083195617/dbug-v0-1
---
<p>I&rsquo;ve been on a <a href="http://seanmonstar.com/2013/09/30/intel.html">logging</a> <a href="http://seanmonstar.com/2013/10/04/intel-0-2.html">spree</a> <a href="http://seanmonstar.com/2013/10/23/intel-0-3.html">recently</a>, and after having spent some time on an <a href="http://seanmonstar.github.io/intel">application logging module</a>, I&rsquo;ve been thinking about what libraries can do about logging. At first I said that libraries should just <a href="http://seanmonstar.com/2013/07/25/console-log-all-the-things.html">dump everything into console.log</a>, but I can definitely see downsides to that.</p>

<h3>debug</h3>

<p><a href="https://npmjs.org/package/debug">debug</a> is a popular utility that handles this problem of libraries wanting logging without annoying consumers quite well. You can use debug, name a logger, and log messages all you want. Unless a consumer adds en ENV variable to listen to those debug messages, it will be all quiet.</p>

<h3>dbug</h3>

<p><a href="https://npmjs.org/package/dbug">dbug</a> works largely the same, with a few tweaks that I feel are really helpful, but I don&rsquo;t think I&rsquo;d have been able to convince TJ to include them in debug.</p>

<p>First of all, it&rsquo;s a perfectly safe drop-in replacement for debug. It has the same API.</p>

<p>However, it adds a few familiar methods that you&rsquo;d find on the <code>console</code> object, so you can classify the severity of particular dbug messages. Some may simply be <code>info</code> messages, while others are meant to signify when an <code>error</code> or <code>warn</code> has occurred. Still though, only if the consumer has opted-in to see your messages by setting <code>process.env.DEBUG</code>.</p>

<p>The log level will be included in the log message, so everyone can see the severity.</p>

<p>Additionally, the <code>DEBUG</code> matching is slightly more lenient. You can still use <code>*</code> and comma separated names, but additionally, specifying a name now implies any of it&rsquo;s children.</p>

<p><code>DEBUG=foo</code> will match <code>foo:bar</code>. Basically, every name is also the same as <code>name:*</code>.</p>

<h3>v0.1.0</h3>

<p><a href="https://npmjs.org/package/dbug">0.1</a> is available now.</p>

<p>A few things I&rsquo;ve been toying with adding to additional versions:</p>

<ul><li><code>DEBUG=foo.warn</code> to only get warn or greater message from the <code>foo</code> logger.</li>
<li>Allowing <code>.</code> to be a separate in log names also: <code>dbug('foo.bar')</code>.</li>
</ul><p>And, currently next up is getting <a href="http://seanmonstar.github.io/intel">intel</a> to play nice with debug/dbug.</p>
