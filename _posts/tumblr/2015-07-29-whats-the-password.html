---
layout: post
title: What’s the password?
date: '2015-07-29T12:25:29-04:00'
tags:
- persona
- identity
- browserid
- mozilla
- planet
tumblr_url: https://seanmonstar.com/post/125352745992/whats-the-password
---
<p>Exploring the wilds of the internets, I stumble upon a brand new site that allows me to turn cat images into ASCII art.</p>

<p>No way. Cats? In text form?! Text messages full of kitties!</p>

<p>This is amaze. How do I get started?</p>

<p>Says here, <em>&ldquo;Just create an account.&rdquo;</em> Ok.</p>

<p><em>&ldquo;What&rsquo;s your username?&rdquo;</em> seanmonstar.</p>

<p><em>&ldquo;Pick a p͏a̵ss–&rdquo;</em>arrgghHHHa̵ąz͏z͝ef́w͟qa̛a̸s̕s̡;. <strong>WHAT! NO!</strong> What did you just call me?<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> I will not!. I don&rsquo;t care how amaze textual kitties might be.</p>

<hr>

<p>Sorry, I&rsquo;m fine now. It&rsquo;s just&hellip; you know. It is downright <a href="http://seanmonstar.com/2023/2014-03-25-your-password-is-insecure/">irresponsible</a> at this point to require a user to enter a password to login to your site. It&rsquo;s pretty easy to properly hash some passwords, but <strong>DON&rsquo;T DO IT!</strong>. Instead, you should let a secure identity provider provide the user&rsquo;s credentials.</p>

<p>Good idea! Er, which do you pick? There&rsquo;s several, and each has its own peculiarities regarding its API. <em>Sigh</em>.</p>

<h3>Persona?</h3>

<p>I had hoped <a href="https://persona.org">Persona</a> would move us away from these dark ages, but it struggled to gain support. The user experience was disruptive.</p>

<p>Most often, users had to create a new Persona account. Oh hey, another password!</p>

<p>Additionally, they would need to go through email verification, which while it helps to make it secure, is another step that may cause a user to bail out. Even if they went through the whole process, web developers needed to properly use <code>navigator.id.watch()</code> to keep state. It was very easy to mess that up.</p>

<p>The popup would confuse users. We&rsquo;ve been teaching users forever to distrust popups, but saying this one was okay.</p>

<h3>++</h3>

<p>At this point, most browsers have user account information already. Chrome has a Google account, Firefox has a <a href="https://accounts.firefox.com">Firefox account</a>, Safari has iCloud, and Edge has a Microsoft account. How about we just move websites to asking the User Agent for credentials, instead of the User directly?</p>

<p>This was what I originally assumed BrowserID would work, when I first heard about it. A user can sign into a browser, using whichever way that browser supports. The website (and thus web developer) isn&rsquo;t required to care what account system the user wants to use. They just want to know &ldquo;who are you&rdquo; and &ldquo;how can I be sure?&rdquo;<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>  <strong>The problem this solves now is passing and storing passwords.</strong></p>

<h3><code>navigator.auth.get()</code></h3>

<p>A website could ask for credentials from the navigator, and the browser can show its own trusted UI asking the user if and which ID to share to the website. The API could return a <code>Promise&lt;JWT&gt;</code>, with the JWT being signed by the browser. There&rsquo;s already standards in place for <a href="https://tools.ietf.org/html/rfc7515">verifying a signed JWT</a>, so the web developer can be confident that the user owns the data include in the token. An example usage:</p>

<pre><code>navigator.auth.get().then((token) =&gt; fetch('/verify', {
    method: 'POST',
    body: JSON.stringify(token)
}))
</code></pre>

<p>Using a <code>Promise</code> and using the already-logged-in accounts of the browser, the website won&rsquo;t need to reload. It therefore doesn&rsquo;t need to store state, and doesn&rsquo;t need the wonkiness of Persona&rsquo;s <code>watch()</code>. This is simply an authentication requesting mechanism, so there&rsquo;s no confusion about who manages the session: the website does.</p>

<p>Additionally, an HTML element could be used for sites that wish to support NoScript:</p>

<pre><code>&lt;auth method="POST" action="/verify" label="Login" /&gt;
</code></pre>

<p>This could render like a <code>&lt;div&gt;</code>, and a website could style it to their spleen&rsquo;s content. Another <a href="https://groups.google.com/d/topic/mozilla.dev.identity/12PW2Z-YPps/discussion">pain point</a> of Persona solved.</p>

<h3>We can do this!</h3>

<p>The Identity team at Mozilla is interested in exploring this, and being that the scope is low, working towards consensus and a standard is the goal, as opposed to Persona&rsquo;s hope of adoption before standardization. <strong>To a less-passwords web!</strong></p>

<div class="footnotes" role="doc-endnotes">
<hr>
<ol>

<li id="fn:1" role="doc-endnote">
<p>&ldquo;Password&rdquo; should be a curse word. <em>Hey! Did you see that little password? Too busy texting to its passwording buddies, and almost hit me!</em> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">↩︎</a></p>
</li>

<li id="fn:2" role="doc-endnote">
<p>Federation of an account system should certainly be possible, but out of scope for this article. The points is that any browser maker can explore how to log into the browser, and pass a JWT to a website that includes a way to verify it. Firefox and others would then be free to explore de-centralized accounts and profiles, while web developers can happily log users in without evil passwords. <a href="#fnref:2" class="footnote-backref" role="doc-backlink">↩︎</a></p>
</li>

</ol>
</div>
