---
layout: post
title: 'This Month in hyper: October 2022'
date: '2022-11-01T14:47:12-04:00'
tags:
- hyper
- rust
- rust-lang
- http3
- monthly
tumblr_url: https://seanmonstar.com/post/699744578823127040/this-month-in-hyper-october-2022
---
<p>As the leaves change and fall, our wonderful contributors continue to make <a href="https://hyper.rs">hyper</a> ever better!</p>

<h3>Releases</h3>

<h4>hyper v1.0.0-rc.1</h4>

<p>After so much work through this year, we finally published the first release candidate for hyper 1.0, <a href="https://seanmonstar.com/2023/2022-10-26-hyper-v100-rc1/">hyper v1.0.0-rc.1</a>!</p>

<p>The community had some <a href="https://www.reddit.com/r/rust/comments/ydzedc/hyper_v100_release_candidate_1/">wonderful things</a> <a href="https://twitter.com/seanmonstar/status/1585275994235101189">to say</a>:</p>

<blockquote>
  <p>Parking in a stable stop is such a lovely metaphor for library evolution, love it!</p>
  
  <p>Very exciting, this is a huge milestone for the maturity of Rust&rsquo;s web-facing ecosystem. :)</p>
  
  <p>all aboard the hype&reg; train! ðŸš‚</p>
</blockquote>

<p>As the <a href="https://seanmonstar.com/2023/2022-10-26-hyper-v100-rc1/">announcement post</a> said, we&rsquo;ve got more to do. We&rsquo;re moving into the <strong>hyper polish period</strong>. I&rsquo;ll have more to say about that soon! But you can <a href="https://discord.gg/kkwpueZ">join us in chat now</a> if you want to help out.</p>

<h4>hyper v0.14.21</h4>

<p>We also published <a href="https://github.com/hyperium/hyper/releases/tag/v0.14.21">v0.14.21</a>, to bring some fixes and features to the more stable branch. This included advanced TCP <code>Server</code> options, an option to ignore invalid header lines, and some more bug fixes.</p>

<p>Part of the 1.0 plan is to backport as much as possible to 0.14, in an effort to make upgrading easier. So you&rsquo;ll still see 0.14.x releases along the way.</p>

<h3>hyper 1.0</h3>

<p>In order to publish the first release candidate, <a href="https://seanmonstar.com/2023/2022-10-26-hyper-v100-rc1/">hyper v1.0.0-rc.1</a>, there was a bunch of work to finish up.</p>

<p>@Michael-J-Ward created the per-version <code>Connection</code> types for the server module. And then I finished up the split by removing the combined <code>hyper::server::conn::Connection</code> type. @bossmc then removed an unneeded <code>Option</code> wrapping the internals of <code>hyper::server::conn::http1::Connection</code>, and dropped the <code>try_into_parts</code> method.</p>

<p>@LucioFranco refactored out the <code>hyper::body::aggregate</code> functions into a <code>Collected</code> type in <code>http-body-util</code>. I was able to use those to upgrade hyper with the <a href="https://github.com/hyperium/hyper/issues/2840">new <code>Body</code> trait design</a> that works on frames, making it forwards-compatible. I also finished up the bike-shaving to determine the name of the body type hyper returns, settling on <code>hyper::body::Incoming</code>.</p>

<h3>hyper in curl</h3>

<p>@dannasman cleaned up a feature we ended up not needing: the ability to get the raw response bytes. curl ended up preferring using the parsed response fields, keeping the parsing in Rust.</p>

<p>Are you interested in <a href="https://seanmonstar.com/2023/2022-03-16-help-stabilize-hyper-in-curl/">helping to debug</a> the <a href="https://github.com/orgs/hyperium/projects/2/views/1">last few unit tests</a> for hyper in curl?</p>

<h3>HTTP/3</h3>

<p>We&rsquo;re working on HTTP/3 in a separate crate, <a href="https://github.com/hyperium/h3">h3</a>, with the goal of fitting it into <a href="https://hyper.rs">hyper</a>.</p>

<p>@g2p documented the entire public API for the <code>h3</code> and <code>h3-quinn</code> crates. @eagr refined the compliance report generation, and exception reasons. In <a href="https://github.com/seanmonstar/tower-h3">tower-h3</a>, @eager made use of the new <code>Body</code> trait from the hyper rc1, and better use of <code>Endpoint</code>.</p>

<h3>Tower</h3>

<p><a href="https://github.com/tower-rs/tower">Tower</a> (and <code>tower-http</code>) are a protocol-agnostic RPC framework with middleware, and they combine nicely with hyper.</p>

<p>@jplatte implemented <code>Layer</code> for tuples up to 16 elements, such that a tuple of layers is similar to using <code>ServiceBuilder</code>. @samvrlewis added methods to <code>ReadyCache</code> to allow iterating over the ready services, and implemented <code>Clone</code> for<code>discover::Change</code>. @boraarslan added a <code>trait Budget</code>, so that the <a href="https://github.com/tower-rs/tower/issues/682">retry middlware revamp</a> can allow swappable budget implementations.</p>

<p>@82marbag introduced a new <code>TimeoutBody</code> middleware to wrap HTTP requests and/or responses in a body type that will timeout reads. This adds onto the existing main timeout middleware, which just times out waiting for response headers.</p>
